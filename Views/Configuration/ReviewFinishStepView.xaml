<UserControl x:Class="WWXMapEditor.Views.Configuration.ReviewFinishStepView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:WWXMapEditor.Views.Configuration"
             xmlns:scaling="clr-namespace:WWXMapEditor.UI.Scaling"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="800">

    <Grid>
        <ScrollViewer VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Auto"
                      CanContentScroll="False"
                      Padding="{DynamicResource MarginLarge}">
            <Grid HorizontalAlignment="Center"
                  MaxWidth="1200"
                  Margin="{DynamicResource MarginMedium}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Header -->
                <TextBlock Grid.Row="0"
                           Text="REVIEW YOUR SETTINGS" 
                           Foreground="{DynamicResource ForegroundBrush}" 
                           FontFamily="Consolas"
                           FontWeight="Bold"
                           Margin="0,0,0,8">
                    <TextBlock.FontSize>
                        <Binding Source="{x:Static scaling:ScaleService.Instance}" Path="FontScale"
                                 Converter="{StaticResource MultiplyConverter}" ConverterParameter="32"/>
                    </TextBlock.FontSize>
                </TextBlock>

                <TextBlock Grid.Row="1"
                           Text="Here's a summary of your configuration:" 
                           Foreground="{DynamicResource ForegroundSecondaryBrush}" 
                           FontFamily="Consolas"
                           Margin="0,0,0,16"
                           TextWrapping="Wrap">
                    <TextBlock.FontSize>
                        <Binding Source="{x:Static scaling:ScaleService.Instance}" Path="FontScale"
                                 Converter="{StaticResource MultiplyConverter}" ConverterParameter="16"/>
                    </TextBlock.FontSize>
                </TextBlock>

                <!-- Summary body -->
                <Border Grid.Row="2"
                        Background="{DynamicResource Surface2Brush}" 
                        BorderBrush="{DynamicResource BorderBrush}"
                        BorderThickness="1"
                        CornerRadius="5"
                        Padding="{DynamicResource PaddingLarge}">
                    <StackPanel>

                        <TextBlock Text="THEME &amp; DISPLAY" 
                                   Foreground="{DynamicResource AccentBrush}" 
                                   FontFamily="Consolas"
                                   FontWeight="Bold" 
                                   Margin="0,0,0,8">
                            <TextBlock.FontSize>
                                <Binding Source="{x:Static scaling:ScaleService.Instance}" Path="FontScale"
                                         Converter="{StaticResource MultiplyConverter}" ConverterParameter="18"/>
                            </TextBlock.FontSize>
                        </TextBlock>

                        <TextBlock Foreground="{DynamicResource ForegroundBrush}" 
                                   FontFamily="Consolas"
                                   Margin="0,0,0,16"
                                   TextWrapping="Wrap">
                            <TextBlock.FontSize>
                                <Binding Source="{x:Static scaling:ScaleService.Instance}" Path="FontScale"
                                         Converter="{StaticResource MultiplyConverter}" ConverterParameter="14"/>
                            </TextBlock.FontSize>
                            <TextBlock.Text>
                                <MultiBinding StringFormat="• Theme: {0}&#x0a;• Fullscreen: {1}&#x0a;• UI Scale: {2}">
                                    <Binding Path="ThemeSummary" Mode="OneWay"/>
                                    <Binding Path="FullscreenSummary" Mode="OneWay"/>
                                    <Binding Path="UIScalingSummary" Mode="OneWay"/>
                                </MultiBinding>
                            </TextBlock.Text>
                        </TextBlock>

                        <TextBlock Text="EDITOR PREFERENCES" 
                                   Foreground="{DynamicResource AccentBrush}" 
                                   FontFamily="Consolas"
                                   FontWeight="Bold" 
                                   Margin="0,0,0,8">
                            <TextBlock.FontSize>
                                <Binding Source="{x:Static scaling:ScaleService.Instance}" Path="FontScale"
                                         Converter="{StaticResource MultiplyConverter}" ConverterParameter="18"/>
                            </TextBlock.FontSize>
                        </TextBlock>

                        <TextBlock Foreground="{DynamicResource ForegroundBrush}" 
                                   FontFamily="Consolas"
                                   Margin="0,0,0,16"
                                   TextWrapping="Wrap">
                            <TextBlock.FontSize>
                                <Binding Source="{x:Static scaling:ScaleService.Instance}" Path="FontScale"
                                         Converter="{StaticResource MultiplyConverter}" ConverterParameter="14"/>
                            </TextBlock.FontSize>
                            <TextBlock.Text>
                                <MultiBinding StringFormat="• Grid: {0}&#x0a;• Grid Size: {1} pixels&#x0a;• Auto-save: {2}">
                                    <Binding Path="GridSummary" Mode="OneWay"/>
                                    <Binding Path="GridSizeSummary" Mode="OneWay"/>
                                    <Binding Path="AutoSaveSummary" Mode="OneWay"/>
                                </MultiBinding>
                            </TextBlock.Text>
                        </TextBlock>

                        <TextBlock Text="FILE LOCATIONS" 
                                   Foreground="{DynamicResource AccentBrush}" 
                                   FontFamily="Consolas"
                                   FontWeight="Bold" 
                                   Margin="0,0,0,8">
                            <TextBlock.FontSize>
                                <Binding Source="{x:Static scaling:ScaleService.Instance}" Path="FontScale"
                                         Converter="{StaticResource MultiplyConverter}" ConverterParameter="18"/>
                            </TextBlock.FontSize>
                        </TextBlock>

                        <TextBlock Text="{Binding FileLocationsSummary, Mode=OneWay}"
                                   Foreground="{DynamicResource ForegroundBrush}" 
                                   FontFamily="Consolas"
                                   TextWrapping="Wrap"/>
                    </StackPanel>
                </Border>

                <TextBlock Grid.Row="3"
                           Text="You can always change these settings later from the Settings menu." 
                           Foreground="{DynamicResource ForegroundSecondaryBrush}" 
                           FontFamily="Consolas"
                           Margin="0,16,0,0"
                           TextAlignment="Center"
                           TextWrapping="Wrap">
                    <TextBlock.FontSize>
                        <Binding Source="{x:Static scaling:ScaleService.Instance}" Path="FontScale"
                                 Converter="{StaticResource MultiplyConverter}" ConverterParameter="14"/>
                    </TextBlock.FontSize>
                </TextBlock>
            </Grid>
        </ScrollViewer>
    </Grid>
</UserControl>
<UserControl x:Class="WWXMapEditor.Views.NewMapSteps.PlayerSelect.Step1PlayerCountView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:conv="clr-namespace:WWXMapEditor.Converters"
             xmlns:scaling="clr-namespace:WWXMapEditor.UI.Scaling"
             x:Name="Root">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <!-- Relative to the Steps folder -->
                <ResourceDictionary Source="../PlayerSelectSharedResources.xaml"/>
            </ResourceDictionary.MergedDictionaries>

            <!-- Local converters -->
            <conv:MultiplyConverter x:Key="MultiplyConverter"/>
            <conv:IntComparisonConverter x:Key="IntComparisonConverter"/>
        </ResourceDictionary>
    </UserControl.Resources>

    <Border Style="{StaticResource CardBorderStyle}">
        <StackPanel>
            <TextBlock Text="How many players?" Style="{StaticResource SectionKicker}">
                <TextBlock.FontSize>
                    <Binding Source="{x:Static scaling:ScaleService.Instance}" Path="FontScale"
                             Converter="{StaticResource MultiplyConverter}" ConverterParameter="14"/>
                </TextBlock.FontSize>
            </TextBlock>

            <UniformGrid Rows="1" Columns="3" Margin="0,10,0,0">
                <!-- 2 -->
                <RadioButton GroupName="PlayerCount"
                             Margin="0,0,8,0"
                             IsChecked="{Binding ParentViewModel.NumberOfPlayers, Converter={StaticResource IntComparisonConverter}, ConverterParameter={StaticResource Players2}}">
                    <RadioButton.Template>
                        <ControlTemplate TargetType="RadioButton">
                            <Border x:Name="border"
                                    Background="{DynamicResource Surface3Brush}"
                                    BorderBrush="{DynamicResource BorderBrush}"
                                    BorderThickness="2"
                                    CornerRadius="10"
                                    Height="50"
                                    Cursor="Hand" Padding="16,0">
                                <TextBlock Text="2"
                                           Foreground="{DynamicResource ForegroundBrush}"
                                           FontFamily="Consolas"
                                           FontWeight="Bold"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsChecked" Value="True">
                                    <Setter TargetName="border" Property="Background" Value="{DynamicResource AccentBrush}"/>
                                    <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="border" Property="Opacity" Value="0.9"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </RadioButton.Template>
                </RadioButton>

                <!-- 3 -->
                <RadioButton GroupName="PlayerCount"
                             Margin="0,0,8,0"
                             IsChecked="{Binding ParentViewModel.NumberOfPlayers, Converter={StaticResource IntComparisonConverter}, ConverterParameter={StaticResource Players3}}">
                    <RadioButton.Template>
                        <ControlTemplate TargetType="RadioButton">
                            <Border x:Name="border"
                                    Background="{DynamicResource Surface3Brush}"
                                    BorderBrush="{DynamicResource BorderBrush}"
                                    BorderThickness="2"
                                    CornerRadius="10"
                                    Height="50"
                                    Cursor="Hand" Padding="16,0">
                                <TextBlock Text="3"
                                           Foreground="{DynamicResource ForegroundBrush}"
                                           FontFamily="Consolas"
                                           FontWeight="Bold"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsChecked" Value="True">
                                    <Setter TargetName="border" Property="Background" Value="{DynamicResource AccentBrush}"/>
                                    <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="border" Property="Opacity" Value="0.9"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </RadioButton.Template>
                </RadioButton>

                <!-- 4 -->
                <RadioButton GroupName="PlayerCount"
                             IsChecked="{Binding ParentViewModel.NumberOfPlayers, Converter={StaticResource IntComparisonConverter}, ConverterParameter={StaticResource Players4}}">
                    <RadioButton.Template>
                        <ControlTemplate TargetType="RadioButton">
                            <Border x:Name="border"
                                    Background="{DynamicResource Surface3Brush}"
                                    BorderBrush="{DynamicResource BorderBrush}"
                                    BorderThickness="2"
                                    CornerRadius="10"
                                    Height="50"
                                    Cursor="Hand" Padding="16,0">
                                <TextBlock Text="4"
                                           Foreground="{DynamicResource ForegroundBrush}"
                                           FontFamily="Consolas"
                                           FontWeight="Bold"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsChecked" Value="True">
                                    <Setter TargetName="border" Property="Background" Value="{DynamicResource AccentBrush}"/>
                                    <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="border" Property="Opacity" Value="0.9"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </RadioButton.Template>
                </RadioButton>
            </UniformGrid>
        </StackPanel>
    </Border>
</UserControl>